<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Lab 5: User Input, Variables and Operations. Part 1 - Mobile Applications for Engineers and Technologists</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item affix "><a href="../../Introduction.html">Introduction</a></li><li class="chapter-item affix "><li class="part-title">Kotlin</li><li class="chapter-item expanded "><div><strong aria-hidden="true">1.</strong> Kotlin Labs</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Kotlin/Lab_1/Lab_1.html"><strong aria-hidden="true">1.1.</strong> Lab 1: Hello World and more!</a></li><li class="chapter-item "><a href="../../Kotlin/Lab_2/2_Kotlin_Intro.html"><strong aria-hidden="true">1.2.</strong> Lab 2: Introduction to Kotlin</a></li><li class="chapter-item "><a href="../../Kotlin/Lab_3/Lab_3.html"><strong aria-hidden="true">1.3.</strong> Lab 3: Android User Interface Part 1</a></li><li class="chapter-item "><a href="../../Kotlin/Lab_4/Lab_4.html"><strong aria-hidden="true">1.4.</strong> Lab 4: Android User Interface Part 2</a></li><li class="chapter-item expanded "><a href="../../Kotlin/Lab_5/Lab_5.html" class="active"><strong aria-hidden="true">1.5.</strong> Lab 5: User Input, Variables and Operations. Part 1</a></li><li class="chapter-item "><a href="../../Kotlin/Lab_6/Lab_6.html"><strong aria-hidden="true">1.6.</strong> Lab 6: User Input, Variables and Operations. Part 2</a></li><li class="chapter-item "><a href="../../Kotlin/Lab_7/Lab_7.html"><strong aria-hidden="true">1.7.</strong> Lab 7: Android App using Icons and Decision Making Controls. Part 1</a></li><li class="chapter-item "><a href="../../Kotlin/Lab_8/Lab_8.html"><strong aria-hidden="true">1.8.</strong> Lab 8: Android App using Icons and Decision Making Controls. Part 2</a></li><li class="chapter-item "><div><strong aria-hidden="true">1.9.</strong> Lab 9.1: One Dimensional Arrays (Intellij)</div></li><li class="chapter-item "><div><strong aria-hidden="true">1.10.</strong> Lab 9.2: Lists, Arrays and Web Browsers Pt1</div></li><li class="chapter-item "><div><strong aria-hidden="true">1.11.</strong> Lab 10: Lists, Arrays and Web Browsers Pt2 </div></li><li class="chapter-item "><div><strong aria-hidden="true">1.12.</strong> Lab 11: Kotlin Object Orientated Programming</div></li><li class="chapter-item "><div><strong aria-hidden="true">1.13.</strong> Lab 12: Exception Handling</div></li><li class="chapter-item "><div><strong aria-hidden="true">1.14.</strong> Lab 13: Permissions</div></li><li class="chapter-item "><div><strong aria-hidden="true">1.15.</strong> Lab 14: Sensors 1</div></li><li class="chapter-item "><div><strong aria-hidden="true">1.16.</strong> Lab 15: Sensors 2</div></li><li class="chapter-item "><div><strong aria-hidden="true">1.17.</strong> Lab 16: Splash Screens</div></li><li class="spacer"></li><li class="spacer"></li></ol></li><li class="chapter-item "><li class="part-title">Java</li><li class="chapter-item "><div><strong aria-hidden="true">2.</strong> Java Labs</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../Java/Lab_1/Lab_1.html"><strong aria-hidden="true">2.1.</strong> Lab 1: Hello World and More!</a></li><li class="chapter-item "><a href="../../Java/Lab_2/Lab_2.html"><strong aria-hidden="true">2.2.</strong> Lab 2: User Interface. Part 1</a></li><li class="chapter-item "><a href="../../Java/Lab_3/Lab_3.html"><strong aria-hidden="true">2.3.</strong> Lab 3: User Interface. Part 2</a></li><li class="chapter-item "><a href="../../Java/Lab_4/Lab_4.html"><strong aria-hidden="true">2.4.</strong> Lab 4: User Input, Variables and Operations. Part 1</a></li><li class="chapter-item "><a href="../../Java/Lab_5/Lab_5.html"><strong aria-hidden="true">2.5.</strong> Lab 5: User Input, Variables and Operations. Part 2</a></li><li class="chapter-item "><a href="../../Java/Lab_6/Lab_6.html"><strong aria-hidden="true">2.6.</strong> Lab 6: Icons and Decision Making Controls Pt1</a></li><li class="chapter-item "><a href="../../Java/Lab_7/Lab_7.html"><strong aria-hidden="true">2.7.</strong> Lab 7: Icons and Decision Making Controls Pt 2 </a></li><li class="chapter-item "><div><strong aria-hidden="true">2.8.</strong> Lab 8.1: One Dimensional Arrays (Intellij)</div></li><li class="chapter-item "><div><strong aria-hidden="true">2.9.</strong> Lab 8.2: Lists, Arrays and Web Browsers Pt1</div></li><li class="chapter-item "><div><strong aria-hidden="true">2.10.</strong> Lab 9: Lists, Arrays and Web Browsers Pt2 </div></li><li class="chapter-item "><div><strong aria-hidden="true">2.11.</strong> Lab 10: Java Object Orientated Programming</div></li><li class="chapter-item "><div><strong aria-hidden="true">2.12.</strong> Lab 11: Exception Handling</div></li><li class="chapter-item "><div><strong aria-hidden="true">2.13.</strong> Lab 12: Permissions</div></li><li class="chapter-item "><div><strong aria-hidden="true">2.14.</strong> Lab 13: Sensors 1</div></li><li class="chapter-item "><div><strong aria-hidden="true">2.15.</strong> Lab 14: Sensors 2</div></li><li class="chapter-item "><div><strong aria-hidden="true">2.16.</strong> Lab 15: Splash Screens</div></li><li class="spacer"></li></ol></li><li class="chapter-item "><li class="part-title">Assignments</li><li class="chapter-item "><a href="../../COMP1836_Assignment_1/COMP1836_Assignment_1.html"><strong aria-hidden="true">3.</strong> Comp1836 Assignment 1</a></li><li class="chapter-item "><div><strong aria-hidden="true">4.</strong> Comp1836 Assignment 2</div></li><li class="spacer"></li><li class="chapter-item "><div><strong aria-hidden="true">5.</strong> ELEE1146 Assignment 1</div></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Mobile Applications for Engineers and Technologists</h1>

                    <div class="right-buttons">
                        <a href="https://github.com/cccu-uk/ELEE1149-COMP1836_Exercises" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/cccu-uk/ELEE1149-COMP1836_Exercises/edit/master/content/Kotlin/Lab_5/Lab_5.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="lab-5-android-user-input-variables-and-operations-part-1"><a class="header" href="#lab-5-android-user-input-variables-and-operations-part-1">Lab 5 Android User Input, Variables and Operations. Part 1</a></h1>
<blockquote>
<p>You will need to download the following picture folder -&gt; <a href="Lab_5_Pictures.zip">Lab_5_Picture.zip</a></p>
</blockquote>
<h2 id="1-concert-ticket-app"><a class="header" href="#1-concert-ticket-app">1. Concert Ticket App</a></h2>
<p>You are to develop a Concert Tickets App as shown below:</p>
<div align=center>
<p><img src="figures/concertAppFinished.png" alt="" /></p>
</div>
<p>In the field <strong>Number of Tickets</strong>, you are to enter a positive integer.  You can also choose from the drop-down list the concert you are interested in and then click the <strong>FIND THE COST</strong> button.  Then the cost of the tickets will be displayed just above the picture as shown below (it is assumed that a single ticket is priced at £79.99):</p>
<div align=center>
<p><img src="./figures/concertAppFinishedPrice2.png" alt="" /></p>
</div>
<h3 id="using-the-string-table"><a class="header" href="#using-the-string-table">Using the String Table</a></h3>
<ul>
<li>
<p>Double click on the strings.xml file in the values subfolder to display its contents</p>
</li>
<li>
<p>Click the Add key (plus sign) in the Translations Editor and type txtTitle in the Key text box and Ticket Vault in the Default Value text box as shown below:</p>
</li>
</ul>
<div align=center>
<p><img src="./figures/stringTableKey.png" alt="" /></p>
</div>
<ul>
<li>
<p>Using the <code>string.xml</code> file add the strings specified in the table below:</p>
<pre><code class="language-xml">&lt;string name=&quot;txtTitle&quot;&gt;Ticket Vault&lt;/string&gt;
&lt;string name=&quot;txtTickets&quot;&gt;Number of Tickets&lt;/string&gt; 
&lt;string name=&quot;prompt&quot;&gt;Select Group&lt;/string&gt;
&lt;string name=&quot;description&quot;&gt;Concert Image&lt;/string&gt;
&lt;string name=&quot;btnCost&quot;&gt;FIND THE COST&lt;/string&gt;
</code></pre>
</li>
</ul>
<h3 id="adding-a-string-array"><a class="header" href="#adding-a-string-array">Adding a String Array</a></h3>
<ul>
<li>
<p>Now you need to add a string array, modify the <code>string.xml</code> with the following code:</p>
<pre><code class="language-xml">&lt;string-array name=&quot;txtGroup&quot;&gt;
    &lt;item&gt;Select a Band&lt;/item&gt;
    &lt;item&gt;Linkin Park&lt;/item&gt;
    &lt;item&gt;Hollywood Undead&lt;/item&gt;
    &lt;item&gt;Man with a Mission&lt;/item&gt;
    &lt;item&gt;Written by Wolves&lt;/item&gt;
&lt;/string-array&gt;
</code></pre>
</li>
</ul>
<h3 id="adding-controls-to-the-emulator"><a class="header" href="#adding-controls-to-the-emulator">Adding Controls to the Emulator</a></h3>
<p><strong>Step 1:</strong></p>
<ul>
<li>Click the Save All button on the Standard toolbar and close <code>strings.xml</code> tab.</li>
<li>With <code>activity_main.xml</code> opened and displaying the emulator screen, from the Palette, choose the Common category and then choose the <strong>TextView</strong> widget </li>
<li>Drag the <strong>TextView</strong> widget to the centre of the emulator screen until a dashed vertical line identifying the screen’s centre is displayed and drop it onto the top part of the emulator.</li>
<li>In the Attributes Pane click on the vertical bar next to the <strong>text</strong> attribute to open the Pick a Resource dialog. </li>
<li>Choose <strong>txtTitle</strong> from the list to name the TextView widget.</li>
<li>Press the Ok button.</li>
<li>In the <strong>textSize</strong> property, type <strong>48sp</strong> and the press Enter.</li>
<li>Right click on the <strong>TextView</strong> widget and choose Center/Horizontally form the drop down list. </li>
</ul>
<div align=center>
<p><img src="./figures/pickResource1.png" alt="" /></p>
</div>
<p><strong>Step 2:</strong></p>
<ul>
<li>In the Text category in the Palette, scroll down to the Number control.</li>
<li>Drag and drop the Number control onto the emulator bellow the Ticket Vault text.</li>
<li>Drag the control to the centre of the screen until a dashed vertical line identifying the screen centre is displayed.</li>
<li>Set the <strong>textSize</strong> property to <strong>28sp</strong> from the drop-down list. </li>
</ul>
<h3 id="setting-the-hint-property-for-the-text-field"><a class="header" href="#setting-the-hint-property-for-the-text-field">Setting the Hint Property for the Text Field</a></h3>
<p><strong>Step 1:</strong></p>
<ul>
<li>With the Number control selected in the emulator, find the hint property in the Attributes pane (by typing hint in the search box for example) and then click on the vertical line next to the hint property.</li>
<li>Pick a Resource dialog box will appear.  Click <strong>txtTickets</strong> to select the assigned string. Click the OK button as shown below:</li>
</ul>
<div align=center>
<p><img src="./figures/pickResource2.png" alt="" /></p>
</div>
<h3 id="using-the-android-spinner-control"><a class="header" href="#using-the-android-spinner-control">Using the Android Spinner Control</a></h3>
<p><strong>Step 1:</strong></p>
<ul>
<li>With the <code>activity_main.xml</code> tab open, scroll to view the Containers category in the Palette.</li>
<li>Drag and drop the Spinner control below the Number control and centre it horizontally. </li>
</ul>
<p><strong>Step 2:</strong></p>
<ul>
<li>In the Attributes pane using search facility at the top of the pane, type in prompt and click to the right of the prompt property on the vertical line to display the Pick a Resources dialog box. </li>
<li>Find the prompt and click it to display instructions when the user touches the Spinner control.</li>
<li>Click the OK button as shown below:</li>
</ul>
<div align=center>
<p><img src="./figures/pickResource3.png" alt="" /></p>
</div>
<ul>
<li>In the Attributes pane, click the vertical bar to the right of the entries property.</li>
<li>Choose txtGroup from the dialog box as shown below. Press OK.</li>
</ul>
<div align=center>
<p><img src="./figures/pickResource4.png" alt="" /></p>
</div>
<h3 id="adding-the-button-textview-and-imageview-controls"><a class="header" href="#adding-the-button-textview-and-imageview-controls">Adding the Button, TextView and ImageView Controls</a></h3>
<p><strong>Step 1:</strong></p>
<ul>
<li>In the <code>activity_main.xml</code> tab, the Common category in the Palette, drag the Button control to the emulator and centre it below the Spinner control.</li>
<li>Click on the vertical bar next to the text attribute and from the Pick a Resource dialog box choose btnCost and then press ok. </li>
<li>Change the <strong>textSize</strong> property to <strong>36sp</strong> from the drop-down list and save your work. </li>
</ul>
<p><strong>Step 2:</strong></p>
<ul>
<li>From the Common category in the Palette, choose the <strong>TextView</strong> control and drag the control to the emulator and centre it below the Button control.</li>
<li>Inside the <strong>text</strong> property delete <strong>TextView</strong>.</li>
<li>Change the <strong>textSize</strong> property to <strong>24sp</strong> from the drop-down list. </li>
</ul>
<p><strong>Step 3:</strong></p>
<ul>
<li>To add the <strong>Image View</strong> control, copy the file <code>concert.png</code> from the Pictures folder on moodle to your computer. </li>
<li>Copy the <code>concert.png</code> file (CTRL + C) and then right click the drawable folder in the Android project view pane. Click Paste. From the Choose Destination Directory dialog choose the <strong>drawable folder</strong> and then click the Ok button as shown below.</li>
</ul>
<div align=center>
<p><img src="./figures/pickResource5.png" alt="" /></p>
</div>
<ul>
<li>Click OK on the next Copy dialog which appears to copy the concert.png file into the drawable directory.</li>
<li>From the Common category in the Palette, drag the ImageView control to the emulator and centre it below the TextView control at the bottom of the emulator.</li>
<li>From the Pick a Resources dialog box which appears, choose the concert picture. Now click the OK button.</li>
<li>With the image selected, click the vertical bar to the right of the contentDescription property in the Attributes pane.  Select description and then click the OK button.</li>
</ul>
<p><strong>Step 4:</strong></p>
<ul>
<li>Now apply Infer Constraints by clicking the button on the top of the emulator.</li>
<li>Run the emulator to see if your interface looks like what you expected.  If you are happy with the interface, proceed with the next step.  If not – fix it!</li>
</ul>
<h3 id="coding-the-edittext-class-for-the-textfield-the-spinner-control-and-the-button-control"><a class="header" href="#coding-the-edittext-class-for-the-textfield-the-spinner-control-and-the-button-control">Coding the EditText Class for the TextField, the Spinner Control and the Button Control</a></h3>
<blockquote>
<p><strong>IMPORTANT</strong></p>
<blockquote>
<p>Throughout this exercise you are encouraged to write comments in the code to explain what different bits do, this is to help remind yourself of what is going on. </p>
<p>Comments are indicated by using <code>//</code> symbols for inline comments, or <code>/* */</code>  for multiline:</p>
<pre><code class="language-kt">  // intialise a variable that stores the information about currency that can be update later
  val format: NumberFormat = NumberFormat.getCurrencyInstance()

    /* using the format object I have set the currency to ,'£', using the country code &quot;GBP&quot;
     * Additionaly I have set the format so that the maximum and minimum fractional digits are 2
     * i.e ##.## 
     */
  format.currency = Currency.getInstance(&quot;GBP&quot;)
  format.maximumFractionDigits = 2
  format.minimumFractionDigits = 2
</code></pre>
</blockquote>
</blockquote>
<p><strong>Step 1:</strong></p>
<ul>
<li>
<p>In the Android project view, expand the java folder and the first folder under it and then double click to open the <code>MainActivity.java</code> file.</p>
</li>
<li>
<p>Click to the right of the line <code>setContentView(R.layout.activity_main)</code></p>
</li>
<li>
<p>Press <strong>Enter</strong> to insert a blank line.</p>
</li>
<li>
<p>To initialise and reference the <code>Spinner</code> control with the Id name of spinner, type:</p>
<ul>
<li><code>val group = findViewById&lt;Spinner&gt;(R.id.spinner)</code></li>
</ul>
</li>
<li>
<p>After you have entered the line above, press Enter. </p>
</li>
<li>
<p>To initialise the <code>Button</code> control with the id of button type:</p>
<ul>
<li><code>val costBtn = findViewById&lt;Button&gt;(R.id.button)</code></li>
</ul>
</li>
<li>
<p>Press <strong>Enter</strong> to insert a blank line.</p>
</li>
<li>
<p>To initialise and reference the <code>EditText</code> class with the Id name of <strong>editText</strong> type: </p>
<ul>
<li><code>val tickets = findViewById&lt;EditText&gt;(R.id.editTextNumber)</code></li>
</ul>
</li>
<li>
<p>After you have entered the line above, press Enter. </p>
</li>
<li>
<p>To initialise the <code>TextView</code> for the resulting calculations with the id of TextView type:</p>
<ul>
<li><code>val result = findViewById&lt;TextView&gt;(R.id.textView)</code></li>
</ul>
</li>
<li>
<p>New line</p>
</li>
<li>
<p>To reference the <code>ImageView</code> to be able to change images based on the <code>Spinner</code>'s selected item:</p>
<ul>
<li><code>val groupImage = findViewById&lt;ImageView&gt;(R.id.imageView)</code></li>
</ul>
</li>
<li>
<p>Finally, after you have entered the line above, press 
<strong>Enter</strong></p>
</li>
<li>
<p>To initialise and reference the <code>NumberFormat</code> class: </p>
<ul>
<li>
<pre><code class="language-kt">val format: NumberFormat = NumberFormat.getCurrencyInstance()

format.currency = Currency.getInstance(&quot;GBP&quot;)
format.maximumFractionDigits = 2
format.minimumFractionDigits = 2
</code></pre>
</li>
</ul>
</li>
<li>
<p>The result is shown below:</p>
<pre><code class="language-kt">
package com.example.concerttickets

import ...

class MainActivity : AppCompatActivity() {

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)

        val group = findViewById&lt;Spinner&gt;(R.id.spinner)
        val costBtn = findViewById&lt;Button&gt;(R.id.costButton)
        val tickets = findViewById&lt;EditText&gt;(R.id.editTextNumber)
        val result = findViewById&lt;TextView&gt;(R.id.resultsTextView)
        val groupImage = findViewById&lt;ImageView&gt;(R.id.imageView)
        val format: NumberFormat = NumberFormat.getCurrencyInstance()

        format.currency = Currency.getInstance(&quot;GBP&quot;)
        format.maximumFractionDigits = 2
        format.minimumFractionDigits = 2

    }
}
</code></pre>
</li>
</ul>
<h3 id="declaring-variables"><a class="header" href="#declaring-variables">Declaring Variables</a></h3>
<p><strong>Step 1:</strong></p>
<ul>
<li>
<p>In <code>MainActivity.java</code> on the line declaring the class, after the <code>{</code>, press Enter:</p>
<pre><code class="language-kt">class MainActivity : AppCompatActivity() {




override fun onCreate(savedInstanceState: Bundle?) {
...
</code></pre>
</li>
<li>
<p>Press the Tab key to indent the text, and then insert the following four lines of code to initialize the variables in this activity:</p>
<pre><code class="language-kt">private val costPerTicket : Double = 79.99
private var numberOfTickets : Int = 0
private var totalCost : Double = 0.0
private var groupChoice: String? = null
</code></pre>
<blockquote>
<p><strong>Note</strong></p>
<blockquote>
<p><code>private</code> means that only this class <code>MainActivity</code> can reference these global variables</p>
</blockquote>
</blockquote>
</li>
<li>
<p>The result is shown below:</p>
<pre><code class="language-kt">
package com.example.concerttickets;

import ...

class MainActivity : AppCompatActivity() {

    private val costPerTicket : Double = 79.99
    private var numberOfTickets : Int = 0
    private var totalCost : Double = 0.0
    private var groupChoice: String? = null

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)

        val group = findViewById&lt;Spinner&gt;(R.id.spinner)
        val costBtn = findViewById&lt;Button&gt;(R.id.costButton)
        val tickets = findViewById&lt;EditText&gt;(R.id.editTextNumberSigned)
        val result = findViewById&lt;TextView&gt;(R.id.resultsTextView)
        val groupImage = findViewById&lt;ImageView&gt;(R.id.imageView)
        val format: NumberFormat = NumberFormat.getCurrencyInstance()

        format.currency = Currency.getInstance(&quot;GBP&quot;)
        format.maximumFractionDigits = 2
        format.minimumFractionDigits = 2
    }
}
</code></pre>
</li>
</ul>
<h3 id="coding-the-onitemselectedlistener"><a class="header" href="#coding-the-onitemselectedlistener">Coding the <code>onItemSelectedListener</code></a></h3>
<p><strong>Step 1:</strong></p>
<ul>
<li>
<p>To code the <code>Spinner</code> listener that awaits user interaction, after the line for the <strong>format.minimumFractionDigits = 2</strong>, type:</p>
<pre><code class="language-kt">group?.onItemSelectedListener = object : AdapterView.OnItemSelectedListener{

}
</code></pre>
</li>
<li>
<p>You should be able to auto complete by pressing the <strong>Tab key</strong></p>
</li>
<li>
<p>Else you will need to add the following in side this new method:</p>
<pre><code class="language-kt">override fun onNothingSelected(parent: AdapterView&lt;*&gt;?) {
          }

override fun onItemSelected(parent: AdapterView&lt;*&gt;?, view: View?, position: Int, id: Long) {
}
</code></pre>
<blockquote>
<p><strong>Note</strong>:</p>
<blockquote>
<p>If auto completion has worked removed the lines <code>TODO(&quot;Not yet implemented&quot;)</code></p>
</blockquote>
</blockquote>
</li>
<li>
<p>The result is shown below:</p>
<pre><code class="language-kt">
package com.example.concerttickets;

import ...

class MainActivity : AppCompatActivity() {

    private val costPerTicket : Double = 79.99
    private var numberOfTickets : Int = 0
    private var totalCost : Double = 0.0
    private var groupChoice: String? = null

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)

        val group = findViewById&lt;Spinner&gt;(R.id.spinner)
        val costBtn = findViewById&lt;Button&gt;(R.id.costButton)
        val tickets = findViewById&lt;EditText&gt;(R.id.editTextNumberSigned)
        val result = findViewById&lt;TextView&gt;(R.id.resultsTextView)
        val groupImage = findViewById&lt;ImageView&gt;(R.id.imageView)
        val format: NumberFormat = NumberFormat.getCurrencyInstance()

        format.currency = Currency.getInstance(&quot;GBP&quot;)
        format.maximumFractionDigits = 2
        format.minimumFractionDigits = 2

        group?.onItemSelectedListener = object: AdapterView.OnItemSelectedListener {
            override fun onNothingSelected(parent: AdapterView&lt;*&gt;?) {
            }

            override fun onItemSelected(parent: AdapterView&lt;*&gt;?, view: View?, position: Int, id: Long) {
            }
    }
}
</code></pre>
</li>
<li>
<p>Inside the <code>group?.onItemSelected(parent: AdapterView&lt;*&gt;?,...){}</code> reproduce the following:</p>
<pre><code class="language-kt">val groupSelected = group.selectedItem
if (groupSelected == &quot;Written by Wolves&quot;)
    groupImage.setImageResource(R.drawable.written_by_wolves)
else if (groupSelected == &quot;Linkin Park&quot;)
    groupImage.setImageResource(R.drawable.linkin_park)
else if (groupSelected == &quot;Man with a Mission&quot;)
    groupImage.setImageResource(R.drawable.man_with_a_mission)
else if (groupSelected == &quot;Hollywood Undead&quot;)
    groupImage.setImageResource(R.drawable.hollywood_undead)
else
    groupImage.setImageResource(R.drawable.concert)
</code></pre>
</li>
<li>
<p>Here the whenever an item is selected from the <code>Spinner</code> the selected item is stored in the <code>groupSelected</code> variable.</p>
</li>
<li>
<p>A comparison is made to which <code>String</code> matches to the <code>groupSelected</code> variable.</p>
</li>
<li>
<p>If a match is found lets say <code>&quot;Written by Wolves&quot;</code>, then the <code>ImageView</code> is updated to store the corresponding image via the <code>groupImage</code> variable/objet using the <code>setImageResource(...)</code> method. </p>
</li>
<li>
<p>Of course the default case <code>else</code> implicitly says that if <code>groupSelected</code> is <code>&quot;Select a Band&quot;</code> as all other options have been programmed, then display the default image <code>R.drawable.concert</code></p>
</li>
</ul>
<div align="center>
<p><img src="./figures/imageChange.png" alt="" /></p>
</div>
<h3 id="coding-the-costbtnsetonclicklistener"><a class="header" href="#coding-the-costbtnsetonclicklistener">Coding the <code>costBtn.setOnClickListener</code></a></h3>
<p>This code block will provide the functionality to calculate the cost of the number of tickets for the selected group.</p>
<ul>
<li>
<p>So after the closing brace '}' of the <code>group?.onItemSelectedListener = object: AdapterView.OnItemSelectedListener {...}</code> write the following:</p>
<pre><code class="language-kt">costBtn.setOnClickListener{
    groupChoice = group.getSelectedItem( ).toString( )
    numberOfTickets = tickets.getText().toString().toIntOrNull() ?: 0
}
</code></pre>
</li>
<li>
<p>The selected item from the <code>group</code>, (<code>Spinner</code>), is converted to a <code>String</code> and assigned to the <code>groupChoice</code> variable.</p>
</li>
<li>
<p>Next the <code>numberOfTickets</code> is assigned the value entered in to the <code>tickets</code> (<code>editText</code> widget) field. We first convert the method gets the text, <code>getTexts</code>, converts this to <code>String</code> like in the previous line. But is then converted through parsing,<code>.toIntOrNull() ?: 0</code> to a interger or <code>Int</code>, where if you have a value in the the field that is convertable you will get that value i.e:</p>
</li>
<li>
<p><code>1</code> would give you <code>1</code> </p>
</li>
<li>
<p><code>a</code> would give you <code>null</code>, and therefore using the operator <code>?:</code> if <code>null</code> give me a <code>0</code> instead</p>
</li>
</ul>
<p>Now we are ready to do something with these two variables:</p>
<ul>
<li>First by ensuring that a band has not been selected</li>
<li>Then checking to see if the number of tickets is equal to <code>0</code>.</li>
</ul>
<p>If either of these conditions are true then we will get a Toast Notifcication or pop up telling the user to fix the issue. </p>
<ul>
<li>
<p>Repeat the below after the <code>numberOfTickets = Integer.parseInt(tickets.getText().toString())</code> line:</p>
<pre><code class="language-kt">if (groupChoice == &quot;Select a Band&quot;) {
    val toast = Toast.makeText(this, &quot;Please select a band&quot;, Toast.LENGTH_LONG) 
    toast.show()
}
else if (numberOfTickets == 0 ) {
    val toast = Toast.makeText(this, &quot;Enter value greater than 0&quot;, Toast.LENGTH_LONG) 
    toast.show()
}
else {
    totalCost = costPerTicket * numberOfTickets
    groupChoice = group.getSelectedItem().toString()
    result.setText(&quot;Cost for &quot; + groupChoice + &quot; is &quot; + format.format(totalCost))
}
</code></pre>
</li>
</ul>
<p>Should looks something like this when complete: </p>
<div align="center">
<p><img src="./figures/toasts.png" alt="" /></p>
</div>
<details>
<summary>The whole program should look like this: </summary>
<pre><code class="language-kt">package com.example.concerttickets

import androidx.appcompat.app.AppCompatActivity
import android.os.Bundle
import android.view.View
import android.widget.AdapterView
import android.widget.Button
import android.widget.EditText
import android.widget.ImageView
import android.widget.Spinner
import android.widget.TextView
import android.widget.Toast
import java.text.NumberFormat
import java.util.Currency

class MainActivity : AppCompatActivity() {

    private val costPerTicket : Double = 79.99
    private var numberOfTickets : Int = 0
    private var totalCost : Double = 0.0
    private var groupChoice: String? = null

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContentView(R.layout.activity_main)

        val group = findViewById&lt;Spinner&gt;(R.id.spinner)
        val costBtn = findViewById&lt;Button&gt;(R.id.costButton)
        val tickets = findViewById&lt;EditText&gt;(R.id.editTextNumberSigned)
        val result = findViewById&lt;TextView&gt;(R.id.resultsTextView)
        val groupImage = findViewById&lt;ImageView&gt;(R.id.imageView)
        val format: NumberFormat = NumberFormat.getCurrencyInstance()

        format.currency = Currency.getInstance(&quot;GBP&quot;)
        format.maximumFractionDigits = 2
        format.minimumFractionDigits = 2

        group?.onItemSelectedListener = object: AdapterView.OnItemSelectedListener {
            override fun onNothingSelected(parent: AdapterView&lt;*&gt;?) {
            }

            override fun onItemSelected(parent: AdapterView&lt;*&gt;?, view: View?, position: Int, id: Long) {
                val groupSelected = group.selectedItem
                if (groupSelected == &quot;Written by Wolves&quot;)
                    groupImage.setImageResource(R.drawable.written_by_wolves)
                else if (groupSelected == &quot;Linkin Park&quot;)
                    groupImage.setImageResource(R.drawable.linkin_park)
                else if (groupSelected == &quot;Man with a Mission&quot;)
                    groupImage.setImageResource(R.drawable.man_with_a_mission)
                else if (groupSelected == &quot;Hollywood Undead&quot;)
                    groupImage.setImageResource(R.drawable.hollywood_undead)
                else
                    groupImage.setImageResource(R.drawable.concert)
            }
        }

        costBtn.setOnClickListener{
            groupChoice = group.getSelectedItem( ).toString( )
            numberOfTickets = tickets.getText().toString().toIntOrNull() ?: 0

            if (groupChoice == &quot;Select a Band&quot;) {
                val toast = Toast.makeText(this, &quot;Please select a band&quot;, Toast.LENGTH_LONG) 
                toast.show()
            }
            else if (numberOfTickets == 0 ) {
                val toast = Toast.makeText(this, &quot;Enter value greater than 0&quot;, Toast.LENGTH_LONG)
                toast.show()
            }
            else {
                totalCost = costPerTicket * numberOfTickets
                groupChoice = group.getSelectedItem().toString()
                result.setText(&quot;Cost for &quot; + groupChoice + &quot; is &quot; + format.format(totalCost))
            }
        }
    }
}
</code></pre>
</details>
<blockquote>
<p><strong>MORE!</strong></p>
<blockquote>
<p>If you are finished with this guided part of the lab try to do the following, based off of what you know now:</p>
<ul>
<li>Add more bands of your choice with more images</li>
<li>Have a range of prices for different bands
<ul>
<li>Consider using more <code>if ,else if and else</code> statements </li>
<li>add different currencies, remember there are 230 pf them.</li>
<li>additional <code>ticketCost&lt;SomeBandName&gt;</code> variables for different bands, remeber to make them a <code>Double</code></li>
</ul>
</li>
<li>Add another <code>TextView</code> that shows the cost of one ticket for any band selected, and when the cost botton is pressed the total appears in the <code>result</code> like normal</li>
</ul>
</blockquote>
</blockquote>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../Kotlin/Lab_4/Lab_4.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../Kotlin/Lab_6/Lab_6.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../Kotlin/Lab_4/Lab_4.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../Kotlin/Lab_6/Lab_6.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
