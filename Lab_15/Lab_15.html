<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Lab 15: Splash Screens - Mobile Applications for Engineers and Technologists</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../Introduction.html">Introduction</a></li><li class="chapter-item expanded affix "><a href="../Lab_1/Lab_1.html">Lab 1: Hello World and More!</a></li><li class="chapter-item expanded affix "><a href="../Lab_2/Lab_2.html">Lab 2: User Interface. Part 1</a></li><li class="chapter-item expanded affix "><a href="../Lab_3/Lab_3.html">Lab 3: User Interface. Part 2</a></li><li class="chapter-item expanded affix "><a href="../Lab_4/Lab_4.html">Lab 4: User Input, Variables and Operations. Part 1</a></li><li class="chapter-item expanded affix "><a href="../Lab_5/Lab_5.html">Lab 5: User Input, Variables and Operations. Part 2</a></li><li class="chapter-item expanded affix "><a href="../Lab_6/Lab_6.html">Lab 6: Icons and Decision Making Controls Pt1 </a></li><li class="chapter-item expanded affix "><a href="../Lab_7/Lab_7.html">Lab 7: Icons and Decision Making Controls Pt 2 </a></li><li class="chapter-item expanded affix "><a href="../Lab_8/Lab_8-1.html">Lab 8.1: One Dimensional Arrays (Intellij)</a></li><li class="chapter-item expanded affix "><a href="../Lab_8/Lab_8-2.html">Lab 8.2: Lists, Arrays and Web Browsers Pt1</a></li><li class="chapter-item expanded affix "><a href="../Lab_9/Lab_9.html">Lab 9: Lists, Arrays and Web Browsers Pt2 </a></li><li class="chapter-item expanded affix "><a href="../Lab_10/Lab_10.html">Lab 10: Java Object Orientated Programming</a></li><li class="chapter-item expanded affix "><a href="../Lab_11/Lab_11.html">Lab 11: Exception Handling</a></li><li class="chapter-item expanded affix "><a href="../Lab_12/Lab_12.html">Lab 12: Permissions</a></li><li class="chapter-item expanded affix "><a href="../Lab_13/Lab_13.html">Lab 13: Sensors 1</a></li><li class="chapter-item expanded affix "><a href="../Lab_14/Lab_14.html">Lab 14: Sensors 2</a></li><li class="chapter-item expanded affix "><a href="../Lab_15/Lab_15.html" class="active">Lab 15: Splash Screens</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><a href="../COMP1836_Assignment_1/COMP1836_Assignment_1.html">Comp1836 Assignment 1</a></li><li class="chapter-item expanded affix "><a href="../COMP1836_Assignment_2/COMP1836_Assignment_2.html">Comp1836 Assignment 2</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><a href="../ELEE1146_Assignment_1/ELEE146_Assignment_1.html">ELEE1146 Assignment 1</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Mobile Applications for Engineers and Technologists</h1>

                    <div class="right-buttons">
                        <a href="https://github.com/cccu-uk/ELEE1149-COMP1836_Exercises" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/cccu-uk/ELEE1149-COMP1836_Exercises/edit/master/content/Lab_15/Lab_15.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="lab-15-splash-screens"><a class="header" href="#lab-15-splash-screens">Lab 15: Splash Screens</a></h1>
<h2 id="introduction"><a class="header" href="#introduction">Introduction</a></h2>
<p>Android Splash Screen is the first screen visible to the user when the application’s launched. Splash screen is one of the most vital screens in the application since it’s the user’s first experience with the application. Splash screens are used to display some animations (typically of the application logo) and illustrations while some data for the next screens are fetched.</p>
<p>Typically, the Activity that has the following intent filter set in the <code>AndroidManifest.xml</code> file is the Splash Activity.</p>
<pre><code class="language-xml">&lt;intent-filter&gt;
            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;
            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;
&lt;/intent-filter&gt;
</code></pre>
<h2 id="android-splash-screen-example-project-structure"><a class="header" href="#android-splash-screen-example-project-structure">Android Splash Screen Example Project Structure</a></h2>
<div align=center>
<p><img src="./figures/android-splash-screen-project-structure.png" alt="" /></p>
</div>
<p>There are few ways to create the initial screen i.e. Splash Screen of the application. Let’s see each of them.</p>
<hr />
<h2 id="task-1-classical-approach"><a class="header" href="#task-1-classical-approach">Task 1: Classical Approach</a></h2>
<blockquote>
<p>Remember to open a new project in Android studio and call it <code>splashscreen</code>.</p>
</blockquote>
<ul>
<li>Don't modify the <code>MainActivity.java</code> file.</li>
<li>Modify the <code>AndroidMainfest.xml</code> 
<ul>
<li>to launch Splash screen</li>
</ul>
</li>
</ul>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
    package=&quot;com.example.splashscreen&quot;&gt;

    &lt;application
        android:allowBackup=&quot;true&quot;
        android:icon=&quot;@mipmap/ic_launcher&quot;
        android:label=&quot;@string/app_name&quot;
        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;
        android:supportsRtl=&quot;true&quot;
        android:theme=&quot;@style/AppTheme&quot;&gt;
        &lt;activity android:name=&quot;.SplashActivity&quot;
            android:theme=&quot;@style/SplashTheme&quot;&gt;
            &lt;intent-filter&gt;
                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;
                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;
            &lt;/intent-filter&gt;
        &lt;/activity&gt;
        &lt;activity android:name=&quot;.MainActivity&quot;/&gt;
    &lt;/application&gt;

&lt;/manifest&gt;
</code></pre>
<ul>
<li>Create a <code>SplashActivity.java</code> file and modify the content as such:</li>
</ul>
<pre><code class="language-java">package com.example.splashscreen;

import android.content.Intent;
import android.os.Handler;
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;

public class SplashActivity extends AppCompatActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_splash);

        new Handler().postDelayed(new Runnable() {


            @Override
            public void run() {
                // This method will be executed once the timer is over
                Intent i = new Intent(SplashActivity.this, MainActivity.class);
                startActivity(i);
                finish(); // explore the class Intent.
            }
        }, 5000); // Number is in milliseconds.
    }
}
</code></pre>
<ul>
<li>Create an <code>activity_splash.xml</code> in the <code>res/layout</code> folder</li>
</ul>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;android.support.constraint.ConstraintLayout xmlns:android=&quot;https://schemas.android.com/apk/res/android&quot;
    xmlns:app=&quot;https://schemas.android.com/apk/res-auto&quot;
    xmlns:tools=&quot;https://schemas.android.com/tools&quot;
    android:layout_width=&quot;match_parent&quot;
    android:layout_height=&quot;match_parent&quot;
    android:background=&quot;@android:color/black&quot;
    tools:context=&quot;com.example.splashscreen.SplashActivity&quot;&gt;

    &lt;ImageView
        android:id=&quot;@+id/imageView&quot;
        android:layout_width=&quot;72dp&quot;
        android:layout_height=&quot;72dp&quot;
        android:src=&quot;@mipmap/ic_launcher&quot;
        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;
        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;
        app:layout_constraintRight_toRightOf=&quot;parent&quot;
        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;


    &lt;ProgressBar
        android:layout_width=&quot;wrap_content&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:indeterminate=&quot;true&quot;
        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;
        app:layout_constraintRight_toRightOf=&quot;parent&quot;
        android:layout_marginTop=&quot;8dp&quot;
        app:layout_constraintTop_toBottomOf=&quot;@id/imageView&quot; /&gt;

&lt;/android.support.constraint.ConstraintLayout&gt;
</code></pre>
<p>If you run this in the emulator, what happens?</p>
<details>
<summary>Click to see</summary>
<div align=center>
<p><img src="./figures/android-splash-screen-classical.gif" alt="" /></p>
</div>
<p>Did you see the blank page that came up before the Splash Screen was visible to you? </p>
<p>The above approach isn’t the correct approach. It’ll give rise to <strong>cold</strong> starts. </p>
<p>The purpose of a Splash Screen is to quickly display a beautiful screen while the application fetches the relevant content if any (from network calls/database). With the above approach, there’s an additional overhead that the <code>SplashActivity</code> uses to create its layout. </p>
<p>It’ll give rise to slow starts to the application which is bad for the user experience (wherein a blank black/white screen appears).</p>
</details>
<hr />
<h2 id="task-2-android-splash-screen-example-with-correct-approach"><a class="header" href="#task-2-android-splash-screen-example-with-correct-approach">Task 2: Android Splash Screen Example with Correct Approach</a></h2>
<p>The cold start appears since the application takes time to load the layout file of the <code>SplashActivity</code>. </p>
<p>So instead of creating the layout, we’ll use the power of the application theme to create our initial layout. </p>
<p>Application theme is instantiated before the layout is created. We’ll set a drawable inside the <code>android:windowBackground</code> attribute that’ll comprise of the Activity’s background and an icon using layer-list as shown below. <code>splash_background.xml</code></p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;layer-list xmlns:android=&quot;https://schemas.android.com/apk/res/android&quot;&gt;

    &lt;item android:drawable=&quot;@android:color/black&quot; /&gt;
    &lt;item
        android:gravity=&quot;center&quot;
        android:src=&quot;@mipmap/ic_launcher&quot; /&gt;
&lt;/layer-list&gt;

</code></pre>
<p>Set the following style as the theme of the activity in <code>res/values/styles.xml</code></p>
<pre><code class="language-xml">...
&lt;resources&gt;
&lt;style name=&quot;SplashTheme&quot; parent=&quot;Theme.AppCompat.NoActionBar&quot;&gt;
        &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/splash_background&lt;/item&gt;
    &lt;/style&gt;
&lt;/resources&gt;
</code></pre>
<p>Modify the splash screen to look like this: </p>
<pre><code class="language-java">package com.example.splashscreen;

import android.content.Intent;
import android.os.Handler;
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;

public class SplashActivity extends AppCompatActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        new Handler().postDelayed(new Runnable() {
            @Override
            public void run() {
                // This method will be executed once the timer is over
                Intent i = new Intent(SplashActivity.this, MainActivity.class);
                startActivity(i);
                finish();
            }
        }, 5000);
    }
}
</code></pre>
<p>Run and you should see the following output:</p>
<div align=center>
<p><img src="./figures/android-splash-screen-right-way.gif" alt="" /></p>
</div>
<blockquote>
<p>Note: the theme of the activity is set before anything else. Hence the above approach would give our app a quicker start.</p>
</blockquote>
<p>Using the theme and removing the layout from the SplashActivity is the correct way to create a splash screen. </p>
<p><strong>Now continue working on your assignment</strong></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../Lab_14/Lab_14.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../COMP1836_Assignment_1/COMP1836_Assignment_1.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../Lab_14/Lab_14.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../COMP1836_Assignment_1/COMP1836_Assignment_1.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
